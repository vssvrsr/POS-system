{% extends 'base.html' %}
{% load static %}
{% block title %}茵悦薈{% endblock %}

{% block css %}
	<link rel="stylesheet" href="{% static 'adminlet-2.4.10/bower_components/datatables.net-bs/css/dataTables.bootstrap.min.css' %}">
{% endblock %}

{% block breadcrumb %}
<!-- Content Header (Page header) -->
    <section class="content-header">
	<h1>
		薪資獎金試算
	</h1>
	<ol class="breadcrumb">
		<li><a href="/app/index"><i class="fa fa-home"></i>主頁</a></li>
		<li>報表結算</a></li>
		<li class="active">薪資獎金試算</li>
	</ol>
    </section>
{% endblock %}


{% block content %}
<section class="content">
	<div class="box box-primary">
		<div class="box-header with-border">
			<h3 class="box-title">基本資料</h3>
		</div>
		<div class="box-body">
			<div class="form-group">
				<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#modalSelectEmp">
					選擇計算獎金之員工
				</button>
			</div>                
			<table id="empTable" class="table table-bordered table-striped">
				<thead>
					<tr>
						<th>員工姓名</th>
						<th>員工編號</th>
					</tr>
				</thead>
				<tbody> 
				{% for SSE in SSE_all %}
				<tr>
					<th>{{SSE.SSE_emp.emp_name_ch}}</a></th>
					<th>{{SSE.SSE_emp.emp_id}}</th>
				</tr>
				{% endfor %}
				</tbody>
				<tfoot>
					<tr>
						<th>員工姓名</th>
						<th>員工編號</th>
					</tr>
				</tfoot>
			</table>
		</div>
	</div>
	<div class="pull-right">
		<a href="/app/salaryCount/next" class="btn btn-primary">
			下一步
		</a>
	</div>
	<div class="modal fade" id="modalSelectEmp" tabindex="-1" role="dialog" aria-labelledby="selectStockModalTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title" id="exampleModalLongTitle">選擇員工</h2>
                </div>
                <div class="modal-body">
                    <table id="selectStockTable" class="table table-bordered table-striped">
                        <thead>
                            <tr>
                            <th>員工姓名</th>
                            <th>員工編號</th>
                            <th>選擇</th>
                            </tr>
                        </thead>
                        <tbody>
                        {% for emp in emp_all %}
                        <tr>
                            <th>{{emp.emp_name_ch}} {{emp.emp_name_en}}</th>
                            <th>{{emp.emp_id}}</th>
                            <th>
                                <a href="/app/selectSalaryEmp/{{emp.emp_id}}" class="btn btn-primary btn-xs">
                                    選擇
                                </a>
                            </th>
                        </tr>
                        {% endfor %}
                        </tbody>
                        <tfoot>
                            <tr>
                                <th>員工姓名</th>
                                <th>員工編號</th>
                                <th>選擇</th>
                            </tr>
                        </tfoot>
                    </table>
                </div>        
            </div>
        </div>
    </div>
</section>

{% endblock %}


{% block script %}
<script src="{% static 'adminlet-2.4.10/bower_components/datatables.net/js/jquery.dataTables.min.js' %}"></script>
<script src="{% static 'adminlet-2.4.10/bower_components/datatables.net-bs/js/dataTables.bootstrap.min.js' %}"></script>

<script>
    $(function () {
      $('#empTable').DataTable({
        'paging'      : true,
        'lengthChange': true,
        'searching'   : true,
        'ordering'    : true,
        'info'        : false,
        'autoWidth'   : true
      })
      $('#selectStockTable').DataTable({
        'paging'      : true,
        'lengthChange': true,
        'searching'   : true,
        'ordering'    : true,
        'info'        : false,
        'autoWidth'   : true
      })
    })
  </script>
{% endblock %}